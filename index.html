<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="nl" lang="nl">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title>Kingsquare JavaScript C64 emulator</title>
	<link rel="stylesheet" type="text/css" href="css/jsc64.css" media="screen, projection" />

</head>
<body>
	<fieldset id="controls">
		<h2>Click on one ROM to load&amp;launch it</h2>
		<ul id="romList">
			<li><a href="rom/SIDE PACMAN.PRG">SIDE PAcMAN by MR.Z</a> (<a href="https://github.com/jumpjack/ChoplifterReverseWithAI/tree/main/others">disassembly experiment</a>)</li>
			<li><a href="rom/GALAGA.PRG">GALAGA</a></li>
			<li><a href="rom/COLOURGALAGA.PRG">GALAGACOLOR</a></li>
			<li><a href="rom/HELLGATE.PRG">HELLGATE</a></li>
			<li><a href="rom/MATRIX.PRG">MATRIX</a></li>
			<li><a href="rom/RALLYSPEEDWAYII.PRG">RALLYSPEEDWAYII</a></li>
			<li><a href="rom/VOIDRUNNER.PRG">VOIDRUNNER</a></li>
		</ul>
		<h2>Controls</h2>
		<input type="button" id="pauseButton" value="Pause" />
		<input type="button" id="debugButton" value="Debug" />
		You may want to use input below to 'focus' your cursor.
		<input type="text" id="focusButton" value=""/>
	</fieldset>
	<div id="container"></div>
	<div id="loadingProgress">Booting: <span class="progress">0</span>% complete</div>

	<script type="text/javascript" src="js/jquery/jquery-1.12.4.min.js"></script>
	<script type="text/javascript" src="js/jquery.jsc64classes.js"></script>
	<script type="text/javascript" src="js/jquery.jsc64.js"></script>

	
	<script type="text/javascript">
		// <![CDATA[
		//var jsc64; // let's make it available in console...
		$(document).ready(function() {
			var jsc64 = $('#container').jsc64($(document)), jsc64Instance = jsc64.jsc64GetInstance(),  percentageComplete = 0, bootWaitFunction;
			bootWaitFunction = function() {				
				$('#loadingProgress .progress').text(percentageComplete++);
				if (percentageComplete>100) {				
					$('#loadingProgress').hide('slow');
					$('#controls').show('slow');
					jsc64Instance._renderer.frameTimer.detachEvent('timer', bootWaitFunction);
				}
			}
			jsc64Instance._renderer.frameTimer.addEventListener('timer', bootWaitFunction);

			$('#pauseButton').click(function() {
				jsc64.jsc64Pause();
			});
			$('#debugButton').click(function() {
				console.log(jsc64);
			});
			console.log("JSC64:", jsc64);
			myC64 = jsc64.jsc64GetInstance();
			console.log("Use this object to access functions:", myC64);
			mem = myC64._mem;
			console.log("Use this object to access memory:", mem);
			$('#romList a').click(function() {
			  	jsc64.loadPrg($(this).attr('href'));
			  	return false;
			});
		});
		// ]]>
	</script>
</body>
</html>
